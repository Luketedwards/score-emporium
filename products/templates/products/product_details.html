{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="overlay"></div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 text-center">
                <h2>{{product.vendor|title}} Store</h2>
            </div>
            <div class="col-12 text-center">
            <h2>{{product.name}}</h2>
        </div>
            <div class="col-12 col-md-6 col-lg-4 offset-lg-2">
                <div class="image-container my-5">
                    {% if product.image %}
                        <a href="" target="_blank">
                            <img id="product-detail-img" class="card-img-top img-fluid" src="/static/media/{{product.image }}" alt="{{ product.name }}">
                        </a>
                        {% else %}
                        <a href="">
                            <img class="card-img-top img-fluid" src="/static/media/No_Image_Available.jpg" alt="{{ product.name }}">
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-4">
                <div class="product-details-container mb-5 mt-md-5">
                    
                    <p class="mb-0"><strong>{{ product.name }}</strong></p>
                    
                    <p class="mt-3">"{{ product.description }}"</p>
                    <p class="lead mb-0 text-left font-weight-bold">${{ product.price }}</p>
                    {% if product.rating %}
                        <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ product.rating }} / 5</small>
                    {% else %}
                        <small class="text-muted">No Rating</small>
                    {% endif %}
                    <button class="product-btn">Add to Basket</button>
                </div>
            </div>
            <div class="col-12 text-center">
                <div class="">
                    {% if product.video %}
                    <hr>
                    <h3>Video of the piece</h3>
                    <div style="position:relative;padding-top:56.25%;">
                        <iframe src="{{product.video}}" frameborder="0" allowfullscreen
                          style="position:absolute;top:0;left:10%;width:80%;height:80%;"></iframe>
                      </div>
                    {% endif %}
                </div>
            </div>
            <div style="margin: 0 auto;" id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    {% for no_of_products in products%}
                    {% if no_of_products.vendor == product.vendor %}
                  <li id="data-target{{forloop.counter0}}" data-target="#carouselExampleIndicators" data-slide-to="{{forloop.counter0}}" class=""></li>
                  {%endif%}
                  {%endfor%}
                </ol>
                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                    {% for vendor_products in products%}
                    {% if vendor_products.vendor == product.vendor%}
                  <div id="carousel-item{{forloop.counter0}}" class="carousel-item ">
                    <img style="height: 350px;" class="d-block w-100" src="/static/media/{{vendor_products.image }}" data-color="lightblue" alt="First Image">
                    <div class="carousel-caption d-md-block">
                      <h5>{{vendor_products.name}}</h5>
                    </div>
                  </div>
                  {%endif%}
                  {%endfor%}
                  
                </div>
                <!-- Controls -->
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
              </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
              </a>
              </div>
        </div>
    </div>
{% endblock %}
{% block postloadjs %}
<script>
    $('.carousel').carousel()
$(document).ready(function(){
  $("button").click(function(){
    document.getElementById('data-target0').className = 'active';
  document.getElementById('carousel-item0').className = 'active';
  });
});
</script>
    {% endblock %}